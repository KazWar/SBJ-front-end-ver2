@model RMS.SBJ.Registrations.Dtos.ProcessRegistration.FormField
@{
    var disableLabel = (bool)ViewData["DisableLabel"];
}

@if (!disableLabel)
{
    <label class="label__file-uploader">@Model.FieldLabel</label>
}
@if (Model.FieldLineId.HasValue)
{
<div class="wrapper__file-uploader__preview">
    <label class="switch switch__registration-approval">
        <input id="@("LineFieldRejected__" + Model.FieldType + "__" + Model.FieldLineId.Value.ToString() + Model.FieldId.ToString())" type="checkbox" checked="@(!Model.IsRejected)" disabled="@Model.IsReadOnly">
        <span class="slider round"></span>
    </label>
    <div id="@("Line" + Model.FieldType + "__" + Model.FieldLineId.Value.ToString() + Model.FieldId.ToString() + "__preview")" class="image-preview__container">
        <input type="hidden" value="@Model.FieldValue" />

        @if (Model.FieldValue != null)
        {
            if (Model.FieldValue.EndsWith(".pdf"))
            {
                <a data-iframe="true">
                    <i class="preview__image far fa-file-pdf" onerror="this.onerror = null;" data-iframe="true"></i>
                </a>
            }
            else if (string.IsNullOrWhiteSpace(Model.FieldValue))
            {
                <i class="preview__image far fa-file-excel" onerror="this.onerror = null;"></i>
            }
            else
            {
                <a>
                    <i class="preview__image far fa-image" onerror="this.onerror = null;"></i>
                </a>
            }
        }

    </div>
</div>
}
else
{
<div class="wrapper__file-uploader__preview">
    <label class="switch switch__registration-approval">
        <input id="@("FieldRejected__" + Model.FieldType + "__" + Model.FieldId)" type="checkbox" checked="@(!Model.IsRejected)" disabled="@Model.IsReadOnly">
        <span class="slider round"></span>
    </label>
    <div id="@(Model.FieldType + "__" + Model.FieldId + "__preview")" class="image-preview__container">
        <input type="hidden" value="@Model.FieldValue" />

        @if (Model.FieldValue != null)
        { 
            if (Model.FieldValue.EndsWith(".pdf"))
            {
                <a data-iframe="true">
                    <i class="preview__image far fa-file-pdf" onerror="this.onerror = null;" data-iframe="true"></i>
                </a>
            }
            else if (string.IsNullOrWhiteSpace(Model.FieldValue))
            {
                <i class="preview__image far fa-file-excel" onerror="this.onerror = null;"></i>
            }
            else
            {
                <a>
                    <i class="preview__image far fa-image" onerror="this.onerror = null;"></i>
                </a>
            }
        }
    </div>
</div>
}